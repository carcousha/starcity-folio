<!DOCTYPE html>
<html>
<head>
    <title>Test WhatsApp API</title>
</head>
<body>
    <h1>اختبار API يدوياً</h1>
    
    <button onclick="testAPI1()">اختبار تنسيق 1</button>
    <button onclick="testAPI2()">اختبار تنسيق 2</button>
    <button onclick="testAPI3()">اختبار تنسيق 3</button>
    
    <div id="result"></div>
    
    <script>
        const API_KEY = 'yQ9Ijpt3Zgd3dI5aVAGw12Y5z3fMFG';
        const SENDER = '971522001189';
        const NUMBER = '971522001189'; // نفس الرقم للاختبار
        const MESSAGE = 'رسالة اختبار من الموقع';
        
        async function testAPI1() {
            try {
                const data = {
                    api_key: API_KEY,
                    sender: SENDER,
                    number: NUMBER,
                    message: MESSAGE
                };
                
                console.log('Testing format 1:', data);
                
                const response = await fetch('https://app.x-growth.tech/api/v1/send-message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                console.log('Result 1:', result);
                document.getElementById('result').innerHTML = `<h3>تنسيق 1:</h3><pre>${JSON.stringify(result, null, 2)}</pre>`;
                
            } catch (error) {
                console.error('Error 1:', error);
                document.getElementById('result').innerHTML = `<h3>خطأ تنسيق 1:</h3><pre>${error.message}</pre>`;
            }
        }
        
        async function testAPI2() {
            try {
                const data = {
                    apikey: API_KEY,
                    to: NUMBER,
                    text: MESSAGE,
                    from: SENDER
                };
                
                console.log('Testing format 2:', data);
                
                const response = await fetch('https://app.x-growth.tech/api/v1/send-message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                console.log('Result 2:', result);
                document.getElementById('result').innerHTML = `<h3>تنسيق 2:</h3><pre>${JSON.stringify(result, null, 2)}</pre>`;
                
            } catch (error) {
                console.error('Error 2:', error);
                document.getElementById('result').innerHTML = `<h3>خطأ تنسيق 2:</h3><pre>${error.message}</pre>`;
            }
        }
        
        async function testAPI3() {
            try {
                const data = {
                    key: API_KEY,
                    phone: NUMBER,
                    message: MESSAGE,
                    sender: SENDER
                };
                
                console.log('Testing format 3:', data);
                
                const response = await fetch('https://app.x-growth.tech/send-message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                console.log('Result 3:', result);
                document.getElementById('result').innerHTML = `<h3>تنسيق 3:</h3><pre>${JSON.stringify(result, null, 2)}</pre>`;
                
            } catch (error) {
                console.error('Error 3:', error);
                document.getElementById('result').innerHTML = `<h3>خطأ تنسيق 3:</h3><pre>${error.message}</pre>`;
            }
        }
    </script>
</body>
</html>
